.. _ug_matter_hw_requirements:

Matter hardware and memory requirements
#######################################

.. contents::
   :local:
   :depth: 2

Hardware that runs Matter protocol applications must meet specification requirements, including providing the right amount of flash memory and being able to run Bluetooth LE and Thread or Wi-Fi concurrently.

.. _ug_matter_hw_requirements_socs:

Supported SoCs
**************

Currently the following SoCs from Nordic Semiconductor are supported for use with the Matter protocol:

* :ref:`nRF5340 <gs_programming_board_names>` (Matter over Thread and Matter over Wi-Fi through the ``nrf7002ek_nrf7002`` shield)
* :ref:`nRF5340 + nRF7002 <gs_programming_board_names>` (Matter over Thread and Matter over Wi-Fi)
* :ref:`nRF52840 <gs_programming_board_names>` (Matter over Thread)

Front-End Modules
=================

SoCs from Nordic Semiconductor that can run the Matter protocol over Thread can also work with external Front-End Modules.
For more information about the FEM support in the |NCS|, see :ref:`ug_radio_fem` and :ref:`nRF21540 DK <gs_programming_board_names>`.

.. _ug_matter_hw_requirements_external_flash:

External flash
**************

For the currently supported SoCs, you must use an external memory with at least 1 MB of flash for nRF52840 and 1.5MB for nRF5340.
This is required to perform the DFU operation.

The development kits for the supported SoCs from Nordic Semiconductor are supplied with the MX25R64 type of external flash that meets these memory requirements.
However, it is possible to configure the SoCs with different QSPI or SPI memory if it is supported by Zephyr.
For this purpose, check the reference design for Nordic DKs for information about how to connect the external memory with SoC, specifically whether the pins are designed for the QSPI or the high-speed SPIM operations.

.. _ug_matter_hw_requirements_ram_flash:

RAM and flash memory requirements
*********************************

RAM and flash memory requirement values differ depending on the DK and the programmed sample.

The following tables list memory requirement values for Matter samples.

Values are provided in kilobytes (KB).


.. tabs::

   .. tab:: nRF52840 DK

      The following table lists memory requirements for samples running on the :ref:`nRF52840 DK <gs_programming_board_names>` (:ref:`nrf52840dk_nrf52840 <zephyr:nrf52840dk_nrf52840>`).

      +----------------------------------------------------------------------------------+---------------+-------------------+----------------+------------+-------------+---------------------------------+
      | Sample                                                                           |   MCUBoot ROM |   Application ROM |   Factory data |   Settings |   Total ROM |   Total RAM (incl. static HEAP) |
      +==================================================================================+===============+===================+================+============+=============+=================================+
      | :ref:`Light Bulb <matter_light_bulb_sample>` (Debug)                             |            28 |               898 |              4 |         32 |         962 |                             232 |
      +----------------------------------------------------------------------------------+---------------+-------------------+----------------+------------+-------------+---------------------------------+
      | :ref:`Light Bulb <matter_light_bulb_sample>` (Debug with Amazon FFS)             |            28 |               900 |              4 |         32 |         964 |                             232 |
      +----------------------------------------------------------------------------------+---------------+-------------------+----------------+------------+-------------+---------------------------------+
      | :ref:`Light Bulb <matter_light_bulb_sample>` (Release)                           |            28 |               724 |              4 |         32 |         788 |                             223 |
      +----------------------------------------------------------------------------------+---------------+-------------------+----------------+------------+-------------+---------------------------------+
      | :ref:`Light Bulb <matter_light_bulb_sample>` (Debug with DFU over SMP)           |            28 |               908 |              4 |         32 |         972 |                             247 |
      +----------------------------------------------------------------------------------+---------------+-------------------+----------------+------------+-------------+---------------------------------+
      | :ref:`Light Switch <matter_light_switch_sample>` (Debug)                         |            28 |               844 |              4 |         32 |         908 |                             223 |
      +----------------------------------------------------------------------------------+---------------+-------------------+----------------+------------+-------------+---------------------------------+
      | :ref:`Light Switch <matter_light_switch_sample>` (Release)                       |            28 |               680 |              4 |         32 |         744 |                             214 |
      +----------------------------------------------------------------------------------+---------------+-------------------+----------------+------------+-------------+---------------------------------+
      | :ref:`Light Switch <matter_light_switch_sample>` (Debug with DFU over SMP)       |            28 |               853 |              4 |         32 |         917 |                             238 |
      +----------------------------------------------------------------------------------+---------------+-------------------+----------------+------------+-------------+---------------------------------+
      | :ref:`Lock <matter_lock_sample>` (Debug)                                         |            28 |               863 |              4 |         32 |         927 |                             223 |
      +----------------------------------------------------------------------------------+---------------+-------------------+----------------+------------+-------------+---------------------------------+
      | :ref:`Lock <matter_lock_sample>` (Factory Data partition supported)              |            28 |               865 |              4 |         32 |         929 |                             223 |
      +----------------------------------------------------------------------------------+---------------+-------------------+----------------+------------+-------------+---------------------------------+
      | :ref:`Lock <matter_lock_sample>` (Release)                                       |            28 |               682 |              4 |         32 |         746 |                             215 |
      +----------------------------------------------------------------------------------+---------------+-------------------+----------------+------------+-------------+---------------------------------+
      | :ref:`Lock <matter_lock_sample>` (Debug with DFU over SMP)                       |            28 |               872 |              4 |         32 |         936 |                             238 |
      +----------------------------------------------------------------------------------+---------------+-------------------+----------------+------------+-------------+---------------------------------+
      | :ref:`Template <matter_template_sample>` (Debug)                                 |            28 |               814 |              4 |         32 |         878 |                             222 |
      +----------------------------------------------------------------------------------+---------------+-------------------+----------------+------------+-------------+---------------------------------+
      | :ref:`Template <matter_template_sample>` (Release)                               |            28 |               658 |              4 |         32 |         722 |                             213 |
      +----------------------------------------------------------------------------------+---------------+-------------------+----------------+------------+-------------+---------------------------------+
      | :ref:`Window Covering <matter_window_covering_sample>` (Debug)                   |            28 |               837 |              4 |         32 |         901 |                             222 |
      +----------------------------------------------------------------------------------+---------------+-------------------+----------------+------------+-------------+---------------------------------+
      | :ref:`Window Covering <matter_window_covering_sample>` (Release)                 |            28 |               673 |              4 |         32 |         737 |                             214 |
      +----------------------------------------------------------------------------------+---------------+-------------------+----------------+------------+-------------+---------------------------------+
      | :ref:`Window Covering <matter_window_covering_sample>` (Debug with DFU over SMP) |            28 |               846 |              4 |         32 |         910 |                             237 |
      +----------------------------------------------------------------------------------+---------------+-------------------+----------------+------------+-------------+---------------------------------+

   .. tab:: nRF5340 DK

      The following table lists memory requirements for samples running on the :ref:`nRF5340 DK <gs_programming_board_names>` (:ref:`nrf5340dk_nrf5340_cpuapp <zephyr:nrf5340dk_nrf5340>`).

      +----------------------------------------------------------------------------------+---------------+-------------------+----------------+------------+-------------+---------------------------------+
      | Sample                                                                           |   MCUBoot ROM |   Application ROM |   Factory data |   Settings |   Total ROM |   Total RAM (incl. static HEAP) |
      +==================================================================================+===============+===================+================+============+=============+=================================+
      | :ref:`Light Bulb <matter_light_bulb_sample>` (Debug)                             |            32 |               810 |              4 |         32 |         878 |                             233 |
      +----------------------------------------------------------------------------------+---------------+-------------------+----------------+------------+-------------+---------------------------------+
      | :ref:`Light Bulb <matter_light_bulb_sample>` (Debug with Amazon FFS)             |            32 |               812 |              4 |         32 |         880 |                             233 |
      +----------------------------------------------------------------------------------+---------------+-------------------+----------------+------------+-------------+---------------------------------+
      | :ref:`Light Bulb <matter_light_bulb_sample>` (Release)                           |            32 |               636 |              4 |         32 |         704 |                             223 |
      +----------------------------------------------------------------------------------+---------------+-------------------+----------------+------------+-------------+---------------------------------+
      | :ref:`Light Bulb <matter_light_bulb_sample>` (Debug with DFU over SMP)           |            32 |               820 |              4 |         32 |         888 |                             246 |
      +----------------------------------------------------------------------------------+---------------+-------------------+----------------+------------+-------------+---------------------------------+
      | :ref:`Light Switch <matter_light_switch_sample>` (Debug)                         |            32 |               755 |              4 |         32 |         823 |                             224 |
      +----------------------------------------------------------------------------------+---------------+-------------------+----------------+------------+-------------+---------------------------------+
      | :ref:`Light Switch <matter_light_switch_sample>` (Release)                       |            32 |               591 |              4 |         32 |         659 |                             213 |
      +----------------------------------------------------------------------------------+---------------+-------------------+----------------+------------+-------------+---------------------------------+
      | :ref:`Light Switch <matter_light_switch_sample>` (Debug with DFU over SMP)       |            32 |               765 |              4 |         32 |         833 |                             238 |
      +----------------------------------------------------------------------------------+---------------+-------------------+----------------+------------+-------------+---------------------------------+
      | :ref:`Lock <matter_lock_sample>` (Debug)                                         |            32 |               775 |              4 |         32 |         843 |                             224 |
      +----------------------------------------------------------------------------------+---------------+-------------------+----------------+------------+-------------+---------------------------------+
      | :ref:`Lock <matter_lock_sample>` (Release)                                       |            32 |               593 |              4 |         32 |         661 |                             214 |
      +----------------------------------------------------------------------------------+---------------+-------------------+----------------+------------+-------------+---------------------------------+
      | :ref:`Lock <matter_lock_sample>` (Debug with DFU over SMP)                       |            32 |               784 |              4 |         32 |         852 |                             237 |
      +----------------------------------------------------------------------------------+---------------+-------------------+----------------+------------+-------------+---------------------------------+
      | :ref:`Template <matter_template_sample>` (Debug)                                 |            32 |               726 |              4 |         32 |         794 |                             222 |
      +----------------------------------------------------------------------------------+---------------+-------------------+----------------+------------+-------------+---------------------------------+
      | :ref:`Template <matter_template_sample>` (Release)                               |            32 |               570 |              4 |         32 |         638 |                             213 |
      +----------------------------------------------------------------------------------+---------------+-------------------+----------------+------------+-------------+---------------------------------+
      | :ref:`Window Covering <matter_window_covering_sample>` (Debug)                   |            32 |               748 |              4 |         32 |         816 |                             223 |
      +----------------------------------------------------------------------------------+---------------+-------------------+----------------+------------+-------------+---------------------------------+
      | :ref:`Window Covering <matter_window_covering_sample>` (Release)                 |            32 |               584 |              4 |         32 |         652 |                             213 |
      +----------------------------------------------------------------------------------+---------------+-------------------+----------------+------------+-------------+---------------------------------+
      | :ref:`Window Covering <matter_window_covering_sample>` (Debug with DFU over SMP) |            32 |               758 |              4 |         32 |         826 |                             236 |
      +----------------------------------------------------------------------------------+---------------+-------------------+----------------+------------+-------------+---------------------------------+

   .. tab:: Nordic Thingy:53

      The following table lists memory requirements for samples running on the :ref:`Thingy:53 <gs_programming_board_names>` (:ref:`thingy53_nrf5340 <zephyr:thingy53_nrf5340>`).

      +----------------------------------------------------------------------------------------+---------------+-------------------+----------------+------------+-------------+---------------------------------+
      | Sample                                                                                 |   MCUBoot ROM |   Application ROM |   Factory data |   Settings |   Total ROM |   Total RAM (incl. static HEAP) |
      +========================================================================================+===============+===================+================+============+=============+=================================+
      | :ref:`Weather Station <matter_weather_station_app>` (Debug)                            |            64 |               822 |              0 |         64 |         950 |                             266 |
      +----------------------------------------------------------------------------------------+---------------+-------------------+----------------+------------+-------------+---------------------------------+
      | :ref:`Weather Station <matter_weather_station_app>` (Factory Data partition supported) |            64 |               823 |             16 |         48 |         951 |                             266 |
      +----------------------------------------------------------------------------------------+---------------+-------------------+----------------+------------+-------------+---------------------------------+
      | :ref:`Weather Station <matter_weather_station_app>` (Release)                          |            64 |               603 |              0 |         64 |         731 |                             236 |
      +----------------------------------------------------------------------------------------+---------------+-------------------+----------------+------------+-------------+---------------------------------+

   .. tab:: nRF7002 DK

      The following table lists memory requirements for samples running on the :ref:`nRF7002 DK <gs_programming_board_names>` (:ref:`nrf7002dk_nrf5340_cpuapp <nrf7002dk_nrf5340>`).

      +-------------------------------------------------------------------------+---------------+-------------------+----------------+------------+-------------+---------------------------------+
      | Sample                                                                  |   MCUBoot ROM |   Application ROM |   Factory data |   Settings |   Total ROM |   Total RAM (incl. static HEAP) |
      +=========================================================================+===============+===================+================+============+=============+=================================+
      | :ref:`Light Bulb <matter_light_bulb_sample>` (Debug)                    |            48 |               886 |              4 |         32 |         970 |                             413 |
      +-------------------------------------------------------------------------+---------------+-------------------+----------------+------------+-------------+---------------------------------+
      | :ref:`Light Bulb <matter_light_bulb_sample>` (Release)                  |            48 |               733 |              4 |         32 |         817 |                             404 |
      +-------------------------------------------------------------------------+---------------+-------------------+----------------+------------+-------------+---------------------------------+
      | :ref:`Light Switch <matter_light_switch_sample>` (Debug for nRF7002 DK) |            48 |               887 |              4 |         32 |         971 |                             414 |
      +-------------------------------------------------------------------------+---------------+-------------------+----------------+------------+-------------+---------------------------------+
      | :ref:`Light Switch <matter_light_switch_sample>` (Release)              |            48 |               736 |              4 |         32 |         820 |                             404 |
      +-------------------------------------------------------------------------+---------------+-------------------+----------------+------------+-------------+---------------------------------+
      | :ref:`Lock <matter_lock_sample>` (Debug)                                |            48 |               906 |              4 |         32 |         990 |                             414 |
      +-------------------------------------------------------------------------+---------------+-------------------+----------------+------------+-------------+---------------------------------+
      | :ref:`Lock <matter_lock_sample>` (Release)                              |            48 |               738 |              4 |         32 |         822 |                             405 |
      +-------------------------------------------------------------------------+---------------+-------------------+----------------+------------+-------------+---------------------------------+
      | :ref:`Lock <matter_lock_sample>` (Debug with DFU over SMP)              |            48 |               916 |              4 |         32 |        1000 |                             426 |
      +-------------------------------------------------------------------------+---------------+-------------------+----------------+------------+-------------+---------------------------------+
      | :ref:`Template <matter_template_sample>` (Debug for nRF7002 DK)         |            48 |               856 |              4 |         32 |         940 |                             412 |
      +-------------------------------------------------------------------------+---------------+-------------------+----------------+------------+-------------+---------------------------------+
      | :ref:`Template <matter_template_sample>` (Release)                      |            48 |               713 |              4 |         32 |         797 |                             404 |
      +-------------------------------------------------------------------------+---------------+-------------------+----------------+------------+-------------+---------------------------------+

..

.. _ug_matter_hw_requirements_layouts:

Reference Matter memory layouts
*******************************

The following tabs show how the :ref:`Matter stack architecture in the nRF Connect SDK <ug_matter_overview_architecture_integration_stack>` translates to actual memory maps for each of the available :ref:`ug_matter_overview_architecture_integration_designs`.
The memory values match `RAM and flash memory requirements`_ listed above.

Each tab shows the memory maps for the development kits supported by the Matter protocol, including two memory maps for the :ref:`matter_weather_station_app`, which uses Nordic Thingy:53.

For more information about configuration of memory layouts in Matter, see :ref:`ug_matter_device_bootloader_partition_layout`.

.. tabs::

   .. tab:: nRF52840 DK

      The following memory map is valid for Matter applications running on the :ref:`nRF52840 DK <gs_programming_board_names>` (:ref:`nrf52840dk_nrf52840 <zephyr:nrf52840dk_nrf52840>`).

      Internal flash (size: 0x100000 = 1024kB)
        +-----------------------------------------+---------------------+-------------------+---------------------+-----------------+-------------------+
        | Partition                               | Offset              | Size              | Partition elements  | Element offset  | Element size      |
        +=========================================+=====================+===================+=====================+=================+===================+
        | Bootloader (mcuboot)                    | 0kB (0x0)           | 28kB (0x7000)     |-                    |-                |-                  |
        +-----------------------------------------+---------------------+-------------------+---------------------+-----------------+-------------------+
        | Application (mcuboot_primary/app)       | 28kB (0x7000)       | 960kB (0xf0000)   | mcuboot_pad         | 28kB (0x7000)   | 512B (0x200)      |
        |                                         |                     |                   +---------------------+-----------------+-------------------+
        |                                         |                     |                   | mcuboot_primary_app | 28.5kB (0x7200) | 959.5kB (0xefe00) |
        +-----------------------------------------+---------------------+-------------------+---------------------+-----------------+-------------------+
        | Factory data (factory_data)             | 988kB (0xf7000)     | 4kB (0x1000)      |-                    |-                |-                  |
        +-----------------------------------------+---------------------+-------------------+---------------------+-----------------+-------------------+
        | Non-volatile storage (settings_storage) | 992kB (0xf8000)     | 32kB (0x8000)     |-                    |-                |-                  |
        +-----------------------------------------+---------------------+-------------------+---------------------+-----------------+-------------------+

      SRAM primary (size: 0x40000 = 256kB)
        SRAM is located at the address ``0x20000000`` in the memory address space of the application.

        +-----------------------------------------+----------------------+-------------------+---------------------+-----------------+-----------------+
        | Partition                               | Offset               | Size              | Partition elements  | Element offset  | Element size    |
        +=========================================+======================+===================+=====================+=================+=================+
        | Static RAM (sram_primary)               | 0kB (0x0)            | 256kB (0x40000)   |-                    |-                |-                |
        +-----------------------------------------+----------------------+-------------------+---------------------+-----------------+-----------------+

      External flash (size: 0x800000 = 8192kB)
        +-----------------------------------------+----------------+-------------------+---------------------+-----------------+-----------------+
        | Partition                               | Offset         | Size              | Partition elements  | Element offset  | Element size    |
        +=========================================+================+===================+=====================+=================+=================+
        | Application DFU (mcuboot_secondary)     | 0kB (0x0)      | 960kB (0xf0000)   |-                    |-                |-                |
        +-----------------------------------------+----------------+-------------------+---------------------+-----------------+-----------------+
        | Free space (external_flash)             | 960kB (0xf0000)| 7232kB (0x710000) |-                    |-                |-                |
        +-----------------------------------------+----------------+-------------------+---------------------+-----------------+-----------------+

   .. tab:: nRF5340 DK

      The following memory map is valid for Matter applications running on the :ref:`nRF5340 DK <gs_programming_board_names>` (:ref:`nrf5340dk_nrf5340_cpuapp <zephyr:nrf5340dk_nrf5340>`).

      Application core flash (size: 0x100000 = 1024kB)
        +-----------------------------------------+---------------------+-------------------+---------------------+-----------------+-------------------+
        | Partition                               | Offset              | Size              | Partition elements  | Element offset  | Element size      |
        +=========================================+=====================+===================+=====================+=================+===================+
        | MCUboot bootloader (mcuboot)            | 0kB (0x0)           | 32kB (0x8000)     |-                    |-                |-                  |
        +-----------------------------------------+---------------------+-------------------+---------------------+-----------------+-------------------+
        | Application (mcuboot_primary/app)       | 32kB (0x8000)       | 956kB (0xef000)   | mcuboot_pad         | 32kB (0x8000)   | 512B (0x200)      |
        |                                         |                     |                   +---------------------+-----------------+-------------------+
        |                                         |                     |                   | mcuboot_primary_app | 32.5kB (0x8200) | 955.5kB (0xeee00) |
        +-----------------------------------------+---------------------+-------------------+---------------------+-----------------+-------------------+
        | Factory data (factory_data)             | 988kB (0xf7000)     | 4kB (0x1000)      |-                    |-                |-                  |
        +-----------------------------------------+---------------------+-------------------+---------------------+-----------------+-------------------+
        | Non-volatile storage (settings_storage) | 992kB (0xf8000)     | 32kB (0x8000)     |-                    |-                |-                  |
        +-----------------------------------------+---------------------+-------------------+---------------------+-----------------+-------------------+

      Application core SRAM primary (size: 0x80000 = 512kB)
        SRAM is located at the address ``0x20000000`` in the memory address space of the application.

        +-----------------------------------------------+---------------------+-------------------+---------------------+-----------------+-----------------+
        | Partition                                     | Offset              | Size              | Partition elements  | Element offset  | Element size    |
        +===============================================+=====================+===================+=====================+=================+=================+
        | :ref:`subsys_pcd` (pcd_sram)                  | 0kB (0x0)           | 8kB (0x2000)      |-                    |-                |-                |
        +-----------------------------------------------+---------------------+-------------------+---------------------+-----------------+-----------------+
        | Static RAM (sram_primary)                     | 8kB (0x2000)        | 440kB (0x6e000)   |-                    |-                |-                |
        +-----------------------------------------------+---------------------+-------------------+---------------------+-----------------+-----------------+
        | Network core shared memory (rpmsg_nrf53_sram) | 448kB (0x70000)     | 64kB (0x10000)    |-                    |-                |-                |
        +-----------------------------------------------+---------------------+-------------------+---------------------+-----------------+-----------------+

      External flash (size: 0x800000 = 8192kB)
        +-----------------------------------------+-------------------+-------------------+---------------------+-----------------+-----------------+
        | Partition                               | Offset            | Size              | Partition elements  | Element offset  | Element size    |
        +=========================================+===================+===================+=====================+=================+=================+
        | Application DFU (mcuboot_secondary)     | 0kB (0x0)         | 956kB (0xef000)   | -                   | -               | -               |
        +-----------------------------------------+-------------------+-------------------+---------------------+-----------------+-----------------+
        | Network Core DFU (mcuboot_secondary_1)  | 956kB (0xef000)   | 256kB (0x40000)   | -                   | -               | -               |
        +-----------------------------------------+-------------------+-------------------+---------------------+-----------------+-----------------+
        | Free space (external_flash)             | 1212kB (0x12f000) | 6980kB (0x6d1000) | -                   | -               | -               |
        +-----------------------------------------+-------------------+-------------------+---------------------+-----------------+-----------------+

      Network core flash (size: 0x40000 = 256kB)
        The network core flash is located at the address ``0x1000000`` in the memory address space of the application.

        +---------------------------------------------------------+---------------------+-------------------+---------------------+-------------------+-------------------+
        | Partition                                               | Offset              | Size              | Partition elements  | Element offset    | Element size      |
        +=========================================================+=====================+===================+=====================+===================+===================+
        | :ref:`B0n bootloader <nc_bootloader>` (b0n_container)   | 0kB (0x0)           | 34kB (0x8800)     | b0n                 | 0kB (0x0)         | 33.375kB (0x8580) |
        |                                                         |                     |                   +---------------------+-------------------+-------------------+
        |                                                         |                     |                   | provision           | 33.375kB (0x8580) | 640B (0x280)      |
        +---------------------------------------------------------+---------------------+-------------------+---------------------+-------------------+-------------------+
        | Network application (app)                               | 34kB (0x8800)       | 222kB (0x37800)   | multiprotocol_rpmsg | 34kB (0x8800)     | 222kB (0x37800)   |
        +---------------------------------------------------------+---------------------+-------------------+---------------------+-------------------+-------------------+

      Network core SRAM (size: 0x10000 = 64kB)
        SRAM is located at the address ``0x21000000`` in the memory address space of the application.

        +-----------------------------------------+---------------------+-------------------+---------------------+-----------------+-----------------+
        | Partition                               | Offset              | Size              | Partition elements  | Element offset  | Element size    |
        +=========================================+=====================+===================+=====================+=================+=================+
        | Static RAM (sram_primary)               | 0kB (0x0)           | 64kB (0x10000)    |-                    |-                |-                |
        +-----------------------------------------+---------------------+-------------------+---------------------+-----------------+-----------------+

      One-Time-Programmable region of UICR (size: 0x2fc = 764B)
        OTP is located at the address ``0xff8100`` in the memory address space of the application.

        +-----------------------------------------+---------------------+-------------------+---------------------+-----------------+-----------------+
        | Partition                               | Offset              | Size              | Partition elements  | Element offset  | Element size    |
        +=========================================+=====================+===================+=====================+=================+=================+
        | OTP Memory (otp)                        | 0kB (0x0)           | 764B (0x2fc)      |-                    |-                |-                |
        +-----------------------------------------+---------------------+-------------------+---------------------+-----------------+-----------------+

   .. tab:: Nordic Thingy:53

      The following memory map is valid for the :ref:`Matter weather station <matter_weather_station_app>` application running on the :ref:`Thingy:53 <gs_programming_board_names>` (:ref:`thingy53_nrf5340 <zephyr:thingy53_nrf5340>`).
      The values are valid for the ``debug`` and ``release`` build types.

      Application core flash (size: 0x100000 = 1024kB)
        +-----------------------------------------+---------------------+-------------------+---------------------+-----------------+-------------------+
        | Partition                               | Offset              | Size              | Partition elements  | Element offset  | Element size      |
        +=========================================+=====================+===================+=====================+=================+===================+
        | MCUboot bootloader (mcuboot)            | 0kB (0x0)           | 64kB (0x10000)    |-                    |-                |-                  |
        +-----------------------------------------+---------------------+-------------------+---------------------+-----------------+-------------------+
        | Application (mcuboot_primary/app)       | 64kB (0x10000)      | 896kB (0xe0000)   | mcuboot_pad         | 64kB (0x10000)  | 512B (0x200)      |
        |                                         |                     |                   +---------------------+-----------------+-------------------+
        |                                         |                     |                   | mcuboot_primary_app | 64.5kB (0x10200)| 895.5kB (0xdfe00) |
        +-----------------------------------------+---------------------+-------------------+---------------------+-----------------+-------------------+
        | Non-volatile storage (settings_storage) | 960kB (0xf0000)     | 64kB (0x10000)    |-                    |-                |-                  |
        +-----------------------------------------+---------------------+-------------------+---------------------+-----------------+-------------------+

      Application core SRAM primary (size: 0x80000 = 512kB)
        SRAM is located at the address ``0x20000000`` in the memory address space of the application.

        +-----------------------------------------------+---------------------+-------------------+---------------------+-----------------+-----------------+
        | Partition                                     | Offset              | Size              | Partition elements  | Element offset  | Element size    |
        +===============================================+=====================+===================+=====================+=================+=================+
        | :ref:`subsys_pcd` (pcd_sram)                  | 0kB (0x0)           | 8kB (0x2000)      |-                    |-                |-                |
        +-----------------------------------------------+---------------------+-------------------+---------------------+-----------------+-----------------+
        | Static RAM (sram_primary)                     | 8kB (0x2000)        | 440kB (0x6e000)   |-                    |-                |-                |
        +-----------------------------------------------+---------------------+-------------------+---------------------+-----------------+-----------------+
        | Network core shared memory (rpmsg_nrf53_sram) | 448kB (0x70000)     | 64kB (0x10000)    |-                    |-                |-                |
        +-----------------------------------------------+---------------------+-------------------+---------------------+-----------------+-----------------+

      External flash (size: 0x800000 = 8192kB)
        +-----------------------------------------+-------------------+-------------------+---------------------+-----------------+-----------------+
        | Partition                               | Offset            | Size              | Partition elements  | Element offset  | Element size    |
        +=========================================+===================+===================+=====================+=================+=================+
        | Application DFU (mcuboot_secondary)     | 0kB (0x0)         | 896kB (0xe0000)   | -                   | -               | -               |
        +-----------------------------------------+-------------------+-------------------+---------------------+-----------------+-----------------+
        | Network Core DFU (mcuboot_secondary_1)  | 896kB (0xe0000)   | 256kB (0x40000)   | -                   | -               | -               |
        +-----------------------------------------+-------------------+-------------------+---------------------+-----------------+-----------------+
        | Free space (external_flash)             | 1152kB (0x120000) | 7040kB (0x6e0000) | -                   | -               | -               |
        +-----------------------------------------+-------------------+-------------------+---------------------+-----------------+-----------------+

      Network core flash (size: 0x40000 = 256kB)
        The network core flash is located at the address ``0x1000000`` in the memory address space of the application.

        +---------------------------------------------------------+---------------------+-------------------+---------------------+------------------+-------------------+
        | Partition                                               | Offset              | Size              | Partition elements  | Element offset   | Element size      |
        +=========================================================+=====================+===================+=====================+==================+===================+
        | :ref:`B0n bootloader <nc_bootloader>` (b0n_container)   | 0kB (0x0)           | 34kB (0x8800)     | b0n                 | 0kB (0x0)        | 33.375kB (0x8580) |
        |                                                         |                     |                   +---------------------+------------------+-------------------+
        |                                                         |                     |                   | provision           | 33.375kB (0x8580)| 640B (0x280)      |
        +---------------------------------------------------------+---------------------+-------------------+---------------------+------------------+-------------------+
        | Network application (app)                               | 34kB (0x8800)       | 222kB (0x37800)   | multiprotocol_rpmsg | 34kB (0x8800)    | 222kB (0x37800)   |
        +---------------------------------------------------------+---------------------+-------------------+---------------------+------------------+-------------------+

      Network core SRAM flash (size: 0x10000 = 64kB)
        SRAM is located at the address ``0x21000000`` in the memory address space of the application.

        +-----------------------------------------+---------------------+-------------------+---------------------+-----------------+-----------------+
        | Partition                               | Offset              | Size              | Partition elements  | Element offset  | Element size    |
        +=========================================+=====================+===================+=====================+=================+=================+
        | Static RAM (sram_primary)               | 0kB (0x0)           | 64kB (0x10000)    |-                    |-                |-                |
        +-----------------------------------------+---------------------+-------------------+---------------------+-----------------+-----------------+

      One-Time-Programmable region of UICR (size: 0x2fc = 764B)
        OTP is located at the address ``0xff8100`` in the memory address space of the application.

        +-----------------------------------------+---------------------+-------------------+---------------------+-----------------+-----------------+
        | Partition                               | Offset              | Size              | Partition elements  | Element offset  | Element size    |
        +=========================================+=====================+===================+=====================+=================+=================+
        | OTP Memory (otp)                        | 0kB (0x0)           | 764B (0x2fc)      |-                    |-                |-                |
        +-----------------------------------------+---------------------+-------------------+---------------------+-----------------+-----------------+

   .. tab:: Nordic Thingy:53 (factory data)

      The following memory map is valid for the :ref:`Matter weather station <matter_weather_station_app>` application running on the :ref:`Thingy:53 <gs_programming_board_names>` (:ref:`thingy53_nrf5340 <zephyr:thingy53_nrf5340>`).
      The values are valid for the ``factory_data`` build type.

      Application core flash (size: 0x100000 = 1024kB)
        +-----------------------------------------+---------------------+-------------------+---------------------+-----------------+-------------------+
        | Partition                               | Offset              | Size              | Partition elements  | Element offset  | Element size      |
        +=========================================+=====================+===================+=====================+=================+===================+
        | MCUboot bootloader (mcuboot)            | 0kB (0x0)           | 64kB (0x10000)    |-                    |-                |-                  |
        +-----------------------------------------+---------------------+-------------------+---------------------+-----------------+-------------------+
        | Application (mcuboot_primary/app)       | 64kB (0x10000)      | 896kB (0xe0000)   | mcuboot_pad         | 64kB (0x10000)  | 512B (0x200)      |
        |                                         |                     |                   +---------------------+-----------------+-------------------+
        |                                         |                     |                   | mcuboot_primary_app | 64.5kB (0x10200)| 895.5kB (0xdfe00) |
        +-----------------------------------------+---------------------+-------------------+---------------------+-----------------+-------------------+
        | Non-volatile storage (settings_storage) | 960kB (0xf0000)     | 60kB (0xf000)     |-                    |-                |-                  |
        +-----------------------------------------+---------------------+-------------------+---------------------+-----------------+-------------------+
        | Factory data (factory_data)             | 1020kB (0xff000)    | 4kB (0x1000)      |-                    |-                |-                  |
        +-----------------------------------------+---------------------+-------------------+---------------------+-----------------+-------------------+

      Application core SRAM primary (size: 0x80000 = 512kB)
        SRAM is located at the address ``0x20000000`` in the memory address space of the application.

        +-----------------------------------------------+---------------------+-------------------+---------------------+-----------------+-----------------+
        | Partition                                     | Offset              | Size              | Partition elements  | Element offset  | Element size    |
        +===============================================+=====================+===================+=====================+=================+=================+
        | :ref:`subsys_pcd` (pcd_sram)                  | 0kB (0x0)           | 8kB (0x2000)      |-                    |-                |-                |
        +-----------------------------------------------+---------------------+-------------------+---------------------+-----------------+-----------------+
        | Static RAM (sram_primary)                     | 8kB (0x2000)        | 440kB (0x6e000)   |-                    |-                |-                |
        +-----------------------------------------------+---------------------+-------------------+---------------------+-----------------+-----------------+
        | Network core shared memory (rpmsg_nrf53_sram) | 448kB (0x70000)     | 64kB (0x10000)    |-                    |-                |-                |
        +-----------------------------------------------+---------------------+-------------------+---------------------+-----------------+-----------------+

      External flash (size: 0x800000 = 8192kB)
        +-----------------------------------------+-------------------+-------------------+---------------------+-----------------+-----------------+
        | Partition                               | Offset            | Size              | Partition elements  | Element offset  | Element size    |
        +=========================================+===================+===================+=====================+=================+=================+
        | Application DFU (mcuboot_secondary)     | 0kB (0x0)         | 896kB (0xe0000)   | -                   | -               | -               |
        +-----------------------------------------+-------------------+-------------------+---------------------+-----------------+-----------------+
        | Network Core DFU (mcuboot_secondary_1)  | 896kB (0xe0000)   | 256kB (0x40000)   | -                   | -               | -               |
        +-----------------------------------------+-------------------+-------------------+---------------------+-----------------+-----------------+
        | Free space (external_flash)             | 1152kB (0x120000) | 7040kB (0x6e0000) | -                   | -               | -               |
        +-----------------------------------------+-------------------+-------------------+---------------------+-----------------+-----------------+

      Network core flash (size: 0x40000 = 256kB)
        The network core flash is located at the address ``0x1000000`` in the memory address space of the application.

        +---------------------------------------------------------+---------------------+-------------------+---------------------+------------------+-------------------+
        | Partition                                               | Offset              | Size              | Partition elements  | Element offset   | Element size      |
        +=========================================================+=====================+===================+=====================+==================+===================+
        | :ref:`B0n bootloader <nc_bootloader>` (b0n_container)   | 0kB (0x0)           | 34kB (0x8800)     | b0n                 | 0kB (0x0)        | 33.375kB (0x8580) |
        |                                                         |                     |                   +---------------------+------------------+-------------------+
        |                                                         |                     |                   | provision           | 33.375kB (0x8580)| 640B (0x280)      |
        +---------------------------------------------------------+---------------------+-------------------+---------------------+------------------+-------------------+
        | Network application (app)                               | 34kB (0x8800)       | 222kB (0x37800)   | multiprotocol_rpmsg | 34kB (0x8800)    | 222kB (0x37800)   |
        +---------------------------------------------------------+---------------------+-------------------+---------------------+------------------+-------------------+

      Network core SRAM flash (size: 0x10000 = 64kB)
        SRAM is located at the address ``0x21000000`` in the memory address space of the application.

        +-----------------------------------------+---------------------+-------------------+---------------------+-----------------+-----------------+
        | Partition                               | Offset              | Size              | Partition elements  | Element offset  | Element size    |
        +=========================================+=====================+===================+=====================+=================+=================+
        | Static RAM (sram_primary)               | 0kB (0x0)           | 64kB (0x10000)    |-                    |-                |-                |
        +-----------------------------------------+---------------------+-------------------+---------------------+-----------------+-----------------+

      One-Time-Programmable region of UICR (size: 0x2fc = 764B)
        OTP is located at the address ``0xff8100`` in the memory address space of the application.

        +-----------------------------------------+---------------------+-------------------+---------------------+-----------------+-----------------+
        | Partition                               | Offset              | Size              | Partition elements  | Element offset  | Element size    |
        +=========================================+=====================+===================+=====================+=================+=================+
        | OTP Memory (otp)                        | 0kB (0x0)           | 764B (0x2fc)      |-                    |-                |-                |
        +-----------------------------------------+---------------------+-------------------+---------------------+-----------------+-----------------+

   .. tab:: nRF7002 DK

      The following memory map is valid for Matter applications running on the :ref:`nRF7002 DK <gs_programming_board_names>` (:ref:`nrf7002dk_nrf5340 <nrf7002dk_nrf5340>`).

      Application core flash (size: 0x100000 = 1024kB)
        +-----------------------------------------+---------------------+-------------------+---------------------+-----------------+-------------------+
        | Partition                               | Offset              | Size              | Partition elements  | Element offset  | Element size      |
        +=========================================+=====================+===================+=====================+=================+===================+
        | MCUboot bootloader (mcuboot)            | 0kB (0x0)           | 48kB (0xc000)     |-                    |-                |-                  |
        +-----------------------------------------+---------------------+-------------------+---------------------+-----------------+-------------------+
        | Application (mcuboot_primary/app)       | 48kB (0xc000)       | 940kB (0xeb000)   | mcuboot_pad         | 48kB (0xc000)   | 512B (0x200)      |
        |                                         |                     |                   +---------------------+-----------------+-------------------+
        |                                         |                     |                   | mcuboot_primary_app | 48.5kB (0xc200) | 939.5kB (0xeae00) |
        +-----------------------------------------+---------------------+-------------------+---------------------+-----------------+-------------------+
        | Factory data (factory_data)             | 988kB (0xf7000)     | 4kB (0x1000)      |-                    |-                |-                  |
        +-----------------------------------------+---------------------+-------------------+---------------------+-----------------+-------------------+
        | Non-volatile storage (settings_storage) | 992kB (0xf8000)     | 32kB (0x8000)     |-                    |-                |-                  |
        +-----------------------------------------+---------------------+-------------------+---------------------+-----------------+-------------------+

      Application core SRAM primary (size: 0x80000 = 512kB)
        SRAM is located at the address ``0x20000000`` in the memory address space of the application.

        +-----------------------------------------------+---------------------+-------------------+---------------------+-----------------+-----------------+
        | Partition                                     | Offset              | Size              | Partition elements  | Element offset  | Element size    |
        +===============================================+=====================+===================+=====================+=================+=================+
        | :ref:`subsys_pcd` (pcd_sram)                  | 0kB (0x0)           | 8kB (0x2000)      |-                    |-                |-                |
        +-----------------------------------------------+---------------------+-------------------+---------------------+-----------------+-----------------+
        | Static RAM (sram_primary)                     | 8kB (0x2000)        | 440kB (0x6e000)   |-                    |-                |-                |
        +-----------------------------------------------+---------------------+-------------------+---------------------+-----------------+-----------------+
        | Network core shared memory (rpmsg_nrf53_sram) | 448kB (0x70000)     | 64kB (0x10000)    |-                    |-                |-                |
        +-----------------------------------------------+---------------------+-------------------+---------------------+-----------------+-----------------+

      External flash (size: 0x800000 = 8192kB)
        +-----------------------------------------+-------------------+-------------------+---------------------+-----------------+-----------------+
        | Partition                               | Offset            | Size              | Partition elements  | Element offset  | Element size    |
        +=========================================+===================+===================+=====================+=================+=================+
        | Application DFU (mcuboot_secondary)     | 0kB (0x0)         | 940kB (0xeb000)   | -                   | -               | -               |
        +-----------------------------------------+-------------------+-------------------+---------------------+-----------------+-----------------+
        | Network Core DFU (mcuboot_secondary_1)  | 940kB (0xeb000)   | 256kB (0x40000)   | -                   | -               | -               |
        +-----------------------------------------+-------------------+-------------------+---------------------+-----------------+-----------------+
        | Free space (external_flash)             | 1196kB (0x12b000) | 6996kB (0x6d5000) | -                   | -               | -               |
        +-----------------------------------------+-------------------+-------------------+---------------------+-----------------+-----------------+

      Network core flash (size: 0x40000 = 256kB)
        The network core flash is located at the address ``0x1000000`` in the memory address space of the application.

        +---------------------------------------------------------+---------------------+-------------------+---------------------+------------------+-------------------+
        | Partition                                               | Offset              | Size              | Partition elements  | Element offset   | Element size      |
        +=========================================================+=====================+===================+=====================+==================+===================+
        | :ref:`B0n bootloader <nc_bootloader>` (b0n_container)   | 0kB (0x0)           | 34kB (0x8800)     | b0n                 | 0kB (0x0)        | 33.375kB (0x8580) |
        |                                                         |                     |                   +---------------------+------------------+-------------------+
        |                                                         |                     |                   | provision           | 33.375kB (0x8580)| 640B (0x280)      |
        +---------------------------------------------------------+---------------------+-------------------+---------------------+------------------+-------------------+
        | Network application (app)                               | 34kB (0x8800)       | 222kB (0x37800)   | hci_rpmsg           | 34kB (0x8800)    | 222kB (0x37800)   |
        +---------------------------------------------------------+---------------------+-------------------+---------------------+------------------+-------------------+

      Network core SRAM flash (size: 0x10000 = 64kB)
        SRAM is located at the address ``0x21000000`` in the memory address space of the application.

        +-----------------------------------------+---------------------+-------------------+---------------------+-----------------+-----------------+
        | Partition                               | Offset              | Size              | Partition elements  | Element offset  | Element size    |
        +=========================================+=====================+===================+=====================+=================+=================+
        | Static RAM (sram_primary)               | 0kB (0x0)           | 64kB (0x10000)    |-                    |-                |-                |
        +-----------------------------------------+---------------------+-------------------+---------------------+-----------------+-----------------+

      One-Time-Programmable region of UICR (size: 0x2fc = 764B)
        OTP is located at the address ``0xff8100`` in the memory address space of the application.

        +-----------------------------------------+---------------------+-------------------+---------------------+-----------------+-----------------+
        | Partition                               | Offset              | Size              | Partition elements  | Element offset  | Element size    |
        +=========================================+=====================+===================+=====================+=================+=================+
        | OTP Memory (otp)                        | 0kB (0x0)           | 764B (0x2fc)      |-                    |-                |-                |
        +-----------------------------------------+---------------------+-------------------+---------------------+-----------------+-----------------+

..

You can generate :ref:`Partition Manager's ASCII representation <pm_partition_reports>` of these tables by running the following command for your respective *<build_target>*:

.. code-block:: console

   west build -b <build_target> -t partition_manager_report

For example, for the ``nrf7002dk_nrf5340_cpuapp`` build target, the command is as follows:

.. code-block:: console

   west build -b nrf7002dk_nrf5340_cpuapp -t partition_manager_report
