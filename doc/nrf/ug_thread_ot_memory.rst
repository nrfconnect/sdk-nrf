.. _thread_ot_memory:

OpenThread memory requirements
##############################

This page provides information about the layout and the amount of flash memory and RAM that is required by sample that are using the OpenThread stack.
Use these values to see whether your application has enough space for running on particular platforms for different application configurations.

.. _thread_ot_memory_introduction:

How to read the tables
**********************

The memory requirement tables list flash memory and RAM requirements for samples that were built using the available :ref:`nrfxlib:ot_libs`.

The values change depending on the sample, device type, and hardware platform.
Moreover, take into account the following considerations:

* All samples were compiled using the default :file:`prj.conf` file and the master image from :ref:`nrfxlib:ot_libs`.
* The MTD variant of the :ref:`Thread CoAP Client <coap_client_sample>` for the End Device role was compiled with the :file:`overlay-mtd.conf` file.
* To enable the multiprotocol support, the following options were used:

  * :option:`CONFIG_MPSL` set to ``y`` (default setting for all samples)
  * :option:`CONFIG_BT_LL_SOFTDEVICE_DEFAULT` set to ``y``
  * :option:`CONFIG_BT` set to ``y``
  * :option:`CONFIG_BT_SMP` set to ``y``
  * :option:`CONFIG_BT_PERIPHERAL` set to ``y``
  * :option:`CONFIG_BT_DEVICE_NAME` set to ``"NUS_CoAP_client"``
  * :option:`CONFIG_BT_DEVICE_APPEARANCE` set to ``833``
  * :option:`CONFIG_BT_MAX_CONN` set to ``1``
  * :option:`CONFIG_BT_MAX_PAIRED` set to ``1``
  * :option:`CONFIG_BT_NUS` set to ``y``
  * :option:`CONFIG_BT_SETTINGS` set to ``y``

* Values for the :ref:`Thread CLI sample <ot_cli_sample>`, which works with all OpenThread calls, are the highest possible for the OpenThread stack using the master image library configuration.

.. _thread_ot_memory_52840:

nRF52840 DK RAM and flash memory requirements
*********************************************

The following table lists memory requirements for samples running on the :ref:`nRF52840 DK <gs_programming_board_names>` (:ref:`nrf52840dk_nrf52840 <zephyr:nrf52840dk_nrf52840>`) with the hardware cryptography support provided by the CC310.

+------------+-----------------------------------------+-----------------+---------------------------+-------------------------------+---------------------------+---------------------------+-------------------------------+------------------+------------------+
| Role       | Sample                                  | Multiprotocol   |   ROM OT stack + app [kB] |   ROM Bluetooth LE stack [kB] |   Persistent storage [kB] |   RAM OT stack + app [kB] |   RAM Bluetooth LE stack [kB] |   Total ROM [kB] |   Total RAM [kB] |
+============+=========================================+=================+===========================+===============================+===========================+===========================+===============================+==================+==================+
| Router     | :ref:`CLI <ot_cli_sample>`              | No              |                       470 |                             0 |                        32 |                        90 |                             0 |              502 |               90 |
+------------+-----------------------------------------+-----------------+---------------------------+-------------------------------+---------------------------+---------------------------+-------------------------------+------------------+------------------+
| Router     | :ref:`CLI <ot_cli_sample>`              | Yes             |                       598 |                           128 |                        32 |                        90 |                            17 |              758 |              107 |
+------------+-----------------------------------------+-----------------+---------------------------+-------------------------------+---------------------------+---------------------------+-------------------------------+------------------+------------------+
| Router     | :ref:`NCP <ot_ncp_sample>`              | No              |                       430 |                             0 |                        32 |                        88 |                             0 |              462 |               88 |
+------------+-----------------------------------------+-----------------+---------------------------+-------------------------------+---------------------------+---------------------------+-------------------------------+------------------+------------------+
| Router     | :ref:`NCP <ot_ncp_sample>`              | Yes             |                       557 |                           127 |                        32 |                        88 |                            17 |              716 |              105 |
+------------+-----------------------------------------+-----------------+---------------------------+-------------------------------+---------------------------+---------------------------+-------------------------------+------------------+------------------+
| Router     | :ref:`CoAP Server <coap_server_sample>` | No              |                       306 |                             0 |                        32 |                        82 |                             0 |              338 |               82 |
+------------+-----------------------------------------+-----------------+---------------------------+-------------------------------+---------------------------+---------------------------+-------------------------------+------------------+------------------+
| Router     | :ref:`CoAP Server <coap_server_sample>` | Yes             |                       434 |                           128 |                        32 |                        82 |                            17 |              594 |               99 |
+------------+-----------------------------------------+-----------------+---------------------------+-------------------------------+---------------------------+---------------------------+-------------------------------+------------------+------------------+
| Router     | :ref:`CoAP Client <coap_client_sample>` | No              |                       314 |                             0 |                        32 |                        83 |                             0 |              346 |               83 |
+------------+-----------------------------------------+-----------------+---------------------------+-------------------------------+---------------------------+---------------------------+-------------------------------+------------------+------------------+
| Router     | :ref:`CoAP Client <coap_client_sample>` | Yes             |                       458 |                           144 |                        32 |                        83 |                            23 |              634 |              106 |
+------------+-----------------------------------------+-----------------+---------------------------+-------------------------------+---------------------------+---------------------------+-------------------------------+------------------+------------------+
| End Device | :ref:`CoAP Client <coap_client_sample>` | No              |                       254 |                             0 |                        32 |                        80 |                             0 |              286 |               80 |
+------------+-----------------------------------------+-----------------+---------------------------+-------------------------------+---------------------------+---------------------------+-------------------------------+------------------+------------------+
| End Device | :ref:`CoAP Client <coap_client_sample>` | Yes             |                       399 |                           145 |                        32 |                        80 |                            23 |              576 |              103 |
+------------+-----------------------------------------+-----------------+---------------------------+-------------------------------+---------------------------+---------------------------+-------------------------------+------------------+------------------+

.. _thread_ot_memory_52833:

nRF52833 DK RAM and flash memory requirements
*********************************************

The following table presents memory requirements for samples running on the :ref:`nRF52833 DK <gs_programming_board_names>` (:ref:`nrf52833dk_nrf52833 <zephyr:nrf52833dk_nrf52833>`) with the software cryptography support provided by the :ref:`nrfxlib:nrf_oberon_readme` module.

+------------+-----------------------------------------+-----------------+---------------------------+-------------------------------+---------------------------+---------------------------+-------------------------------+-------------------+------------------+
| Role       | Sample                                  | Multiprotocol   |   ROM OT stack + app [kB] |   ROM Bluetooth LE stack [kB] |   Persistent storage [kB] |   RAM OT stack + app [kB] |   RAM Bluetooth LE stack [kB] | Total ROM [kB]    |   Total RAM [kB] |
+============+=========================================+=================+===========================+===============================+===========================+===========================+===============================+===================+==================+
| Router     | :ref:`CLI <ot_cli_sample>`              | No              |                       455 |                             0 |                        32 |                        97 |                             0 | 487               |               97 |
+------------+-----------------------------------------+-----------------+---------------------------+-------------------------------+---------------------------+---------------------------+-------------------------------+-------------------+------------------+
| Router     | :ref:`CLI <ot_cli_sample>`              | Yes             |                       583 |                           128 |                        32 |                        97 |                            17 | 743 (exceeds ROM) |              114 |
+------------+-----------------------------------------+-----------------+---------------------------+-------------------------------+---------------------------+---------------------------+-------------------------------+-------------------+------------------+
| Router     | :ref:`NCP <ot_ncp_sample>`              | No              |                       416 |                             0 |                        32 |                        96 |                             0 | 448               |               96 |
+------------+-----------------------------------------+-----------------+---------------------------+-------------------------------+---------------------------+---------------------------+-------------------------------+-------------------+------------------+
| Router     | :ref:`NCP <ot_ncp_sample>`              | Yes             |                       543 |                           127 |                        32 |                        96 |                            17 | 702 (exceeds ROM) |              113 |
+------------+-----------------------------------------+-----------------+---------------------------+-------------------------------+---------------------------+---------------------------+-------------------------------+-------------------+------------------+
| Router     | :ref:`CoAP Server <coap_server_sample>` | No              |                       321 |                             0 |                        32 |                        89 |                             0 | 353               |               89 |
+------------+-----------------------------------------+-----------------+---------------------------+-------------------------------+---------------------------+---------------------------+-------------------------------+-------------------+------------------+
| Router     | :ref:`CoAP Server <coap_server_sample>` | Yes             |                       449 |                           128 |                        32 |                        89 |                            17 | 609 (exceeds ROM) |              106 |
+------------+-----------------------------------------+-----------------+---------------------------+-------------------------------+---------------------------+---------------------------+-------------------------------+-------------------+------------------+
| Router     | :ref:`CoAP Client <coap_client_sample>` | No              |                       330 |                             0 |                        32 |                        91 |                             0 | 362               |               91 |
+------------+-----------------------------------------+-----------------+---------------------------+-------------------------------+---------------------------+---------------------------+-------------------------------+-------------------+------------------+
| Router     | :ref:`CoAP Client <coap_client_sample>` | Yes             |                       474 |                           144 |                        32 |                        91 |                            22 | 650 (exceeds ROM) |              113 |
+------------+-----------------------------------------+-----------------+---------------------------+-------------------------------+---------------------------+---------------------------+-------------------------------+-------------------+------------------+
| End Device | :ref:`CoAP Client <coap_client_sample>` | No              |                       260 |                             0 |                        32 |                        88 |                             0 | 292               |               88 |
+------------+-----------------------------------------+-----------------+---------------------------+-------------------------------+---------------------------+---------------------------+-------------------------------+-------------------+------------------+
| End Device | :ref:`CoAP Client <coap_client_sample>` | Yes             |                       404 |                           144 |                        32 |                        88 |                            22 | 580 (exceeds ROM) |              110 |
+------------+-----------------------------------------+-----------------+---------------------------+-------------------------------+---------------------------+---------------------------+-------------------------------+-------------------+------------------+
