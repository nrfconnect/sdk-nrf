.. _thread_ot_memory:

OpenThread memory requirements
##############################

.. contents::
   :local:
   :depth: 2

This page provides information about the layout and the amount of flash memory and RAM that is required by sample that are using the OpenThread stack.
Use these values to see whether your application has enough space for running on particular platforms for different application configurations.

.. _thread_ot_memory_introduction:

How to read the tables
**********************

The memory requirement tables list flash memory and RAM requirements for samples that were built using the available :ref:`nrfxlib:ot_libs`.

The values change depending on the sample, device type, and hardware platform.
Moreover, take into account the following considerations:

* All samples were compiled using the default :file:`prj.conf` file and images from :ref:`nrfxlib:ot_libs`.
* The MTD variant of the :ref:`Thread CoAP Client <coap_client_sample>` for the End Device role was compiled with the :file:`overlay-mtd.conf` file.
* To enable the multiprotocol support, the following options were used:

  * :option:`CONFIG_MPSL` set to ``y`` (default setting for all samples)
  * :option:`CONFIG_BT_LL_SOFTDEVICE_DEFAULT` set to ``y``
  * :option:`CONFIG_BT` set to ``y``
  * :option:`CONFIG_BT_SMP` set to ``y``
  * :option:`CONFIG_BT_PERIPHERAL` set to ``y``
  * :option:`CONFIG_BT_DEVICE_NAME` set to ``"NUS_CoAP_client"``
  * :option:`CONFIG_BT_DEVICE_APPEARANCE` set to ``833``
  * :option:`CONFIG_BT_MAX_CONN` set to ``1``
  * :option:`CONFIG_BT_MAX_PAIRED` set to ``1``
  * :option:`CONFIG_BT_NUS` set to ``y``
  * :option:`CONFIG_BT_SETTINGS` set to ``y``

* Values for the :ref:`Thread CLI sample <ot_cli_sample>`, which works with all OpenThread calls, are the highest possible for the OpenThread stack using the master image library configuration.
* In case the Total ROM or Total RAM value exceeds the Available ROM or Available RAM the sample in given configuration will not fit on the device.

.. _thread_ot_memory_52840:

nRF52840 DK RAM and flash memory requirements
*********************************************

The following table lists memory requirements for samples running on the :ref:`nRF52840 DK <gs_programming_board_names>` (:ref:`nrf52840dk_nrf52840 <zephyr:nrf52840dk_nrf52840>`) with the hardware cryptography support provided by the CC310.

+------------+-----------------------------------------+-------------------+-----------------+-----------------------------------+-------------------------------+---------------------------+-----------------------------------+-------------------------------+------------------+----------------------+------------------+----------------------+
| Role       | Sample                                  | Library variant   | Multiprotocol   |   ROM OpenThread stack + App [kB] |   ROM Bluetooth LE stack [kB] |   Persistent storage [kB] |   RAM OpenThread stack + App [kB] |   RAM Bluetooth LE stack [kB] |   Total ROM [kB] |   Avaialble ROM [kB] |   Total RAM [kB] |   Available RAM [kB] |
+============+=========================================+===================+=================+===================================+===============================+===========================+===================================+===============================+==================+======================+==================+======================+
| Router     | :ref:`CLI <ot_cli_sample>`              | Master            | No              |                               448 |                             0 |                        32 |                                92 |                             0 |              480 |                 1024 |               92 |                  256 |
+------------+-----------------------------------------+-------------------+-----------------+-----------------------------------+-------------------------------+---------------------------+-----------------------------------+-------------------------------+------------------+----------------------+------------------+----------------------+
| Router     | :ref:`CLI <ot_cli_sample>`              | FTD               | No              |                               429 |                             0 |                        32 |                                91 |                             0 |              461 |                 1024 |               91 |                  256 |
+------------+-----------------------------------------+-------------------+-----------------+-----------------------------------+-------------------------------+---------------------------+-----------------------------------+-------------------------------+------------------+----------------------+------------------+----------------------+
| Router     | :ref:`CLI <ot_cli_sample>`              | Master            | Yes             |                               558 |                           110 |                        32 |                                92 |                            15 |              590 |                 1024 |              107 |                  256 |
+------------+-----------------------------------------+-------------------+-----------------+-----------------------------------+-------------------------------+---------------------------+-----------------------------------+-------------------------------+------------------+----------------------+------------------+----------------------+
| Router     | :ref:`CLI <ot_cli_sample>`              | FTD               | Yes             |                               539 |                           110 |                        32 |                                91 |                            15 |              571 |                 1024 |              106 |                  256 |
+------------+-----------------------------------------+-------------------+-----------------+-----------------------------------+-------------------------------+---------------------------+-----------------------------------+-------------------------------+------------------+----------------------+------------------+----------------------+
| Router     | :ref:`NCP <ot_ncp_sample>`              | Master            | No              |                               409 |                             0 |                        32 |                                91 |                             0 |              441 |                 1024 |               91 |                  256 |
+------------+-----------------------------------------+-------------------+-----------------+-----------------------------------+-------------------------------+---------------------------+-----------------------------------+-------------------------------+------------------+----------------------+------------------+----------------------+
| Router     | :ref:`NCP <ot_ncp_sample>`              | FTD               | No              |                               387 |                             0 |                        32 |                                88 |                             0 |              419 |                 1024 |               88 |                  256 |
+------------+-----------------------------------------+-------------------+-----------------+-----------------------------------+-------------------------------+---------------------------+-----------------------------------+-------------------------------+------------------+----------------------+------------------+----------------------+
| Router     | :ref:`NCP <ot_ncp_sample>`              | Master            | Yes             |                               518 |                           109 |                        32 |                                91 |                            15 |              550 |                 1024 |              106 |                  256 |
+------------+-----------------------------------------+-------------------+-----------------+-----------------------------------+-------------------------------+---------------------------+-----------------------------------+-------------------------------+------------------+----------------------+------------------+----------------------+
| Router     | :ref:`NCP <ot_ncp_sample>`              | FTD               | Yes             |                               495 |                           108 |                        32 |                                88 |                            17 |              527 |                 1024 |              105 |                  256 |
+------------+-----------------------------------------+-------------------+-----------------+-----------------------------------+-------------------------------+---------------------------+-----------------------------------+-------------------------------+------------------+----------------------+------------------+----------------------+
| Router     | :ref:`CoAP Server <coap_server_sample>` | Master            | No              |                               453 |                             0 |                        32 |                                93 |                             0 |              485 |                 1024 |               93 |                  256 |
+------------+-----------------------------------------+-------------------+-----------------+-----------------------------------+-------------------------------+---------------------------+-----------------------------------+-------------------------------+------------------+----------------------+------------------+----------------------+
| Router     | :ref:`CoAP Server <coap_server_sample>` | FTD               | No              |                               434 |                             0 |                        32 |                                92 |                             0 |              466 |                 1024 |               92 |                  256 |
+------------+-----------------------------------------+-------------------+-----------------+-----------------------------------+-------------------------------+---------------------------+-----------------------------------+-------------------------------+------------------+----------------------+------------------+----------------------+
| Router     | :ref:`CoAP Server <coap_server_sample>` | Master            | Yes             |                               563 |                           110 |                        32 |                                93 |                            15 |              595 |                 1024 |              108 |                  256 |
+------------+-----------------------------------------+-------------------+-----------------+-----------------------------------+-------------------------------+---------------------------+-----------------------------------+-------------------------------+------------------+----------------------+------------------+----------------------+
| Router     | :ref:`CoAP Server <coap_server_sample>` | FTD               | Yes             |                               544 |                           110 |                        32 |                                92 |                            15 |              576 |                 1024 |              107 |                  256 |
+------------+-----------------------------------------+-------------------+-----------------+-----------------------------------+-------------------------------+---------------------------+-----------------------------------+-------------------------------+------------------+----------------------+------------------+----------------------+
| Router     | :ref:`CoAP Client <coap_client_sample>` | Master            | No              |                               464 |                             0 |                        32 |                                95 |                             0 |              496 |                 1024 |               95 |                  256 |
+------------+-----------------------------------------+-------------------+-----------------+-----------------------------------+-------------------------------+---------------------------+-----------------------------------+-------------------------------+------------------+----------------------+------------------+----------------------+
| Router     | :ref:`CoAP Client <coap_client_sample>` | FTD               | No              |                               445 |                             0 |                        32 |                                94 |                             0 |              477 |                 1024 |               94 |                  256 |
+------------+-----------------------------------------+-------------------+-----------------+-----------------------------------+-------------------------------+---------------------------+-----------------------------------+-------------------------------+------------------+----------------------+------------------+----------------------+
| Router     | :ref:`CoAP Client <coap_client_sample>` | Master            | Yes             |                               589 |                           125 |                        32 |                                95 |                            19 |              621 |                 1024 |              114 |                  256 |
+------------+-----------------------------------------+-------------------+-----------------+-----------------------------------+-------------------------------+---------------------------+-----------------------------------+-------------------------------+------------------+----------------------+------------------+----------------------+
| Router     | :ref:`CoAP Client <coap_client_sample>` | FTD               | Yes             |                               570 |                           125 |                        32 |                                94 |                            19 |              602 |                 1024 |              113 |                  256 |
+------------+-----------------------------------------+-------------------+-----------------+-----------------------------------+-------------------------------+---------------------------+-----------------------------------+-------------------------------+------------------+----------------------+------------------+----------------------+
| End Device | :ref:`CoAP Client <coap_client_sample>` | Master            | No              |                               443 |                             0 |                        32 |                                94 |                             0 |              475 |                 1024 |               94 |                  256 |
+------------+-----------------------------------------+-------------------+-----------------+-----------------------------------+-------------------------------+---------------------------+-----------------------------------+-------------------------------+------------------+----------------------+------------------+----------------------+
| End Device | :ref:`CoAP Client <coap_client_sample>` | Master            | Yes             |                               569 |                           126 |                        32 |                                94 |                            19 |              601 |                 1024 |              113 |                  256 |
+------------+-----------------------------------------+-------------------+-----------------+-----------------------------------+-------------------------------+---------------------------+-----------------------------------+-------------------------------+------------------+----------------------+------------------+----------------------+

.. _thread_ot_memory_52833:

nRF52833 DK RAM and flash memory requirements
*********************************************

The following table presents memory requirements for samples running on the :ref:`nRF52833 DK <gs_programming_board_names>` (:ref:`nrf52833dk_nrf52833 <zephyr:nrf52833dk_nrf52833>`) with the software cryptography support provided by the :ref:`nrfxlib:nrf_oberon_readme` module.

+------------+-----------------------------------------+-------------------+-----------------+-----------------------------------+-------------------------------+---------------------------+-----------------------------------+-------------------------------+------------------+----------------------+------------------+----------------------+
| Role       | Sample                                  | Library variant   | Multiprotocol   |   ROM OpenThread stack + App [kB] |   ROM Bluetooth LE stack [kB] |   Persistent storage [kB] |   RAM OpenThread stack + App [kB] |   RAM Bluetooth LE stack [kB] |   Total ROM [kB] |   Avaialble ROM [kB] |   Total RAM [kB] |   Available RAM [kB] |
+============+=========================================+===================+=================+===================================+===============================+===========================+===================================+===============================+==================+======================+==================+======================+
| Router     | :ref:`CLI <ot_cli_sample>`              | Master            | No              |                               425 |                             0 |                        32 |                               100 |                             0 |              457 |                  512 |              100 |                  128 |
+------------+-----------------------------------------+-------------------+-----------------+-----------------------------------+-------------------------------+---------------------------+-----------------------------------+-------------------------------+------------------+----------------------+------------------+----------------------+
| Router     | :ref:`CLI <ot_cli_sample>`              | FTD               | No              |                               406 |                             0 |                        32 |                                99 |                             0 |              438 |                  512 |               99 |                  128 |
+------------+-----------------------------------------+-------------------+-----------------+-----------------------------------+-------------------------------+---------------------------+-----------------------------------+-------------------------------+------------------+----------------------+------------------+----------------------+
| Router     | :ref:`CLI <ot_cli_sample>`              | Master            | Yes             |                               535 |                           110 |                        32 |                               100 |                            14 |              567 |                  512 |              114 |                  128 |
+------------+-----------------------------------------+-------------------+-----------------+-----------------------------------+-------------------------------+---------------------------+-----------------------------------+-------------------------------+------------------+----------------------+------------------+----------------------+
| Router     | :ref:`CLI <ot_cli_sample>`              | FTD               | Yes             |                               516 |                           110 |                        32 |                                99 |                            14 |              548 |                  512 |              113 |                  128 |
+------------+-----------------------------------------+-------------------+-----------------+-----------------------------------+-------------------------------+---------------------------+-----------------------------------+-------------------------------+------------------+----------------------+------------------+----------------------+
| Router     | :ref:`NCP <ot_ncp_sample>`              | Master            | No              |                               384 |                             0 |                        32 |                                98 |                             0 |              418 |                  512 |               98 |                  128 |
+------------+-----------------------------------------+-------------------+-----------------+-----------------------------------+-------------------------------+---------------------------+-----------------------------------+-------------------------------+------------------+----------------------+------------------+----------------------+
| Router     | :ref:`NCP <ot_ncp_sample>`              | FTD               | No              |                               363 |                             0 |                        32 |                                95 |                             0 |              395 |                  512 |               95 |                  128 |
+------------+-----------------------------------------+-------------------+-----------------+-----------------------------------+-------------------------------+---------------------------+-----------------------------------+-------------------------------+------------------+----------------------+------------------+----------------------+
| Router     | :ref:`NCP <ot_ncp_sample>`              | Master            | Yes             |                               495 |                           109 |                        32 |                                98 |                            15 |              527 |                  512 |              113 |                  128 |
+------------+-----------------------------------------+-------------------+-----------------+-----------------------------------+-------------------------------+---------------------------+-----------------------------------+-------------------------------+------------------+----------------------+------------------+----------------------+
| Router     | :ref:`NCP <ot_ncp_sample>`              | FTD               | Yes             |                               471 |                           108 |                        32 |                                95 |                            17 |              503 |                  512 |              112 |                  128 |
+------------+-----------------------------------------+-------------------+-----------------+-----------------------------------+-------------------------------+---------------------------+-----------------------------------+-------------------------------+------------------+----------------------+------------------+----------------------+
| Router     | :ref:`CoAP Server <coap_server_sample>` | Master            | No              |                               430 |                             0 |                        32 |                               100 |                             0 |              462 |                  512 |              100 |                  128 |
+------------+-----------------------------------------+-------------------+-----------------+-----------------------------------+-------------------------------+---------------------------+-----------------------------------+-------------------------------+------------------+----------------------+------------------+----------------------+
| Router     | :ref:`CoAP Server <coap_server_sample>` | FTD               | No              |                               411 |                             0 |                        32 |                                99 |                             0 |              443 |                  512 |               99 |                  128 |
+------------+-----------------------------------------+-------------------+-----------------+-----------------------------------+-------------------------------+---------------------------+-----------------------------------+-------------------------------+------------------+----------------------+------------------+----------------------+
| Router     | :ref:`CoAP Server <coap_server_sample>` | Master            | Yes             |                               540 |                           110 |                        32 |                               100 |                            15 |              572 |                  512 |              115 |                  128 |
+------------+-----------------------------------------+-------------------+-----------------+-----------------------------------+-------------------------------+---------------------------+-----------------------------------+-------------------------------+------------------+----------------------+------------------+----------------------+
| Router     | :ref:`CoAP Server <coap_server_sample>` | FTD               | Yes             |                               520 |                           109 |                        32 |                                99 |                            15 |              552 |                  512 |              114 |                  128 |
+------------+-----------------------------------------+-------------------+-----------------+-----------------------------------+-------------------------------+---------------------------+-----------------------------------+-------------------------------+------------------+----------------------+------------------+----------------------+
| Router     | :ref:`CoAP Client <coap_client_sample>` | Master            | No              |                               442 |                             0 |                        32 |                               102 |                             0 |              474 |                  512 |              102 |                  128 |
+------------+-----------------------------------------+-------------------+-----------------+-----------------------------------+-------------------------------+---------------------------+-----------------------------------+-------------------------------+------------------+----------------------+------------------+----------------------+
| Router     | :ref:`CoAP Client <coap_client_sample>` | FTD               | No              |                               422 |                             0 |                        32 |                               101 |                             0 |              454 |                  512 |              101 |                  128 |
+------------+-----------------------------------------+-------------------+-----------------+-----------------------------------+-------------------------------+---------------------------+-----------------------------------+-------------------------------+------------------+----------------------+------------------+----------------------+
| Router     | :ref:`CoAP Client <coap_client_sample>` | Master            | Yes             |                               568 |                           126 |                        32 |                               102 |                            20 |              600 |                  512 |              122 |                  128 |
+------------+-----------------------------------------+-------------------+-----------------+-----------------------------------+-------------------------------+---------------------------+-----------------------------------+-------------------------------+------------------+----------------------+------------------+----------------------+
| Router     | :ref:`CoAP Client <coap_client_sample>` | FTD               | Yes             |                               549 |                           127 |                        32 |                               101 |                            20 |              581 |                  512 |              121 |                  128 |
+------------+-----------------------------------------+-------------------+-----------------+-----------------------------------+-------------------------------+---------------------------+-----------------------------------+-------------------------------+------------------+----------------------+------------------+----------------------+
| End Device | :ref:`CoAP Client <coap_client_sample>` | Master            | No              |                               421 |                             0 |                        32 |                               101 |                             0 |              453 |                  512 |              101 |                  128 |
+------------+-----------------------------------------+-------------------+-----------------+-----------------------------------+-------------------------------+---------------------------+-----------------------------------+-------------------------------+------------------+----------------------+------------------+----------------------+
| End Device | :ref:`CoAP Client <coap_client_sample>` | Master            | Yes             |                               547 |                           126 |                        32 |                               101 |                            19 |              579 |                  512 |              120 |                  128 |
+------------+-----------------------------------------+-------------------+-----------------+-----------------------------------+-------------------------------+---------------------------+-----------------------------------+-------------------------------+------------------+----------------------+------------------+----------------------+
