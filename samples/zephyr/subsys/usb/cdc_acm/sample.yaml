sample:
  name: CDC ACM USB
common:
  tags:
    - usb
    - ci_samples_zephyr_subsys_usb
  platform_allow:
    - nrf54h20dk/nrf54h20/cpuapp
    - nrf54lm20dk/nrf54lm20a/cpuapp
  integration_platforms:
    - nrf54h20dk/nrf54h20/cpuapp
    - nrf54lm20dk/nrf54lm20a/cpuapp
  harness: console
  harness_config:
    type: multi_line
    regex:
      - "Wait for DTR"
      - "cdc_acm_echo: USBD message: New device configuration"
      - "cdc_acm_echo: USBD message: CDC ACM line coding"
      - "cdc_acm_echo: Baudrate"
tests:
  nrf.extended.sample.usb_device_next.cdc-acm: {}
  nrf.extended.sample.usb_device_next.cdc-acm-workqueue:
    extra_args:
      - DCONFIG_USBD_CDC_ACM_WORKQUEUE=y
