sample:
  name: Blinky Sample
common:
  tags:
    - LED
    - gpio
    - ci_tests_drivers_hpf
  depends_on: gpio
  sysbuild: true
  harness: console
  harness_config:
    type: multi_line
    ordered: true
    regex:
      - "LED state: ON"
      - "LED state: OFF"
tests:
  nrf.extended.sample.basic.blinky:
    platform_allow:
      - nrf54ls05dk/nrf54ls05b/cpuapp
      - nrf54lv10dk/nrf54lv10a/cpuapp
      - nrf54lv10dk/nrf54lv10a/cpuapp/ns
    integration_platforms:
      - nrf54lv10dk/nrf54lv10a/cpuapp

  nrf.extended.sample.basic.blinky.hpf.gpio.icmsg:
    platform_allow:
      - nrf54l15dk/nrf54l15/cpuapp
      - nrf7120pdk/nrf7120/cpuapp
    integration_platforms:
      - nrf54l15dk/nrf54l15/cpuapp
    extra_args:
      - SB_CONFIG_HPF=y
      - SB_CONFIG_HPF_GPIO=y
      - SB_CONFIG_HPF_GPIO_BACKEND_ICMSG=y
      - SB_CONFIG_PARTITION_MANAGER=n
      - platform:nrf54l15dk/nrf54l15/cpuapp:"EXTRA_DTC_OVERLAY_FILE=./boards/nrf54l15dk_nrf54l15_cpuapp_hpf_gpio.overlay"
      - platform:nrf7120pdk/nrf7120/cpuapp:"EXTRA_DTC_OVERLAY_FILE=./boards/nrf7120pdk_nrf7120_cpuapp_hpf_gpio.overlay"

  nrf.extended.sample.basic.blinky.hpf.gpio.mbox:
    platform_allow:
      - nrf54l15dk/nrf54l15/cpuapp
      - nrf7120pdk/nrf7120/cpuapp
    integration_platforms:
      - nrf54l15dk/nrf54l15/cpuapp
    extra_args:
      - SB_CONFIG_HPF=y
      - SB_CONFIG_HPF_GPIO=y
      - SB_CONFIG_HPF_GPIO_BACKEND_MBOX=y
      - SB_CONFIG_PARTITION_MANAGER=n
      - platform:nrf54l15dk/nrf54l15/cpuapp:"EXTRA_DTC_OVERLAY_FILE=./boards/nrf54l15dk_nrf54l15_cpuapp_hpf_gpio.overlay"
      - platform:nrf7120pdk/nrf7120/cpuapp:"EXTRA_DTC_OVERLAY_FILE=./boards/nrf7120pdk_nrf7120_cpuapp_hpf_gpio.overlay"

  nrf.extended.sample.basic.blinky.hpf.gpio.icbmsg:
    platform_allow:
      - nrf54l15dk/nrf54l15/cpuapp
      - nrf7120pdk/nrf7120/cpuapp
    integration_platforms:
      - nrf54l15dk/nrf54l15/cpuapp
    extra_args:
      - SB_CONFIG_HPF=y
      - SB_CONFIG_HPF_GPIO=y
      - SB_CONFIG_HPF_GPIO_BACKEND_ICBMSG=y
      - SB_CONFIG_PARTITION_MANAGER=n
      - platform:nrf54l15dk/nrf54l15/cpuapp:"EXTRA_DTC_OVERLAY_FILE=./boards/nrf54l15dk_nrf54l15_cpuapp_hpf_gpio.overlay"
      - platform:nrf7120pdk/nrf7120/cpuapp:"EXTRA_DTC_OVERLAY_FILE=./boards/nrf7120pdk_nrf7120_cpuapp_hpf_gpio.overlay"
