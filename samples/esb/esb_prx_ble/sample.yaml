sample:
  name: ESB prx BLE Sample
common:
  harness: console
  harness_config:
    type: multi_line
    ordered: true
    regex:
      - "Starting Enhanced ShockBurst prx with Peripheral LBS sample"
      - "Bluetooth initialized"
      - "Advertising successfully started"
      - "ESB initialized"
      - "Setting up for packet reception"
      - "Initialization complete"
  timeout: 15

tests:
  sample.esb.prx.ble.build:
    sysbuild: true
    integration_platforms:
      - nrf54h20dk/nrf54h20/cpurad
      - nrf54l15dk/nrf54l05/cpuapp
      - nrf54l15dk/nrf54l10/cpuapp
      - nrf54l15dk/nrf54l15/cpuapp
      - nrf54lm20dk/nrf54lm20a/cpuapp
      - nrf54lv10dk/nrf54lv10a/cpuapp
    platform_allow:
      - nrf54h20dk/nrf54h20/cpurad
      - nrf54l15dk/nrf54l05/cpuapp
      - nrf54l15dk/nrf54l10/cpuapp
      - nrf54l15dk/nrf54l15/cpuapp
      - nrf54lm20dk/nrf54lm20a/cpuapp
      - nrf54lv10dk/nrf54lv10a/cpuapp
    tags:
      - esb
      - ci_build
      - sysbuild
      - ci_samples_esb
