#
# Copyright (c) 2024-2026 Nordic Semiconductor ASA
#
# SPDX-License-Identifier: LicenseRef-Nordic-5-Clause
#

CONFIG_SYSTEM_WORKQUEUE_STACK_SIZE=4096

# Disable logging in the release configuration
CONFIG_BOARD_SERIAL_BACKEND_CDC_ACM=n

# Enable the Zephyr drivers required by the speaker, battery module and motion detector module.
CONFIG_PWM=y
CONFIG_ADC=y
CONFIG_SENSOR=y
CONFIG_SPI=y
CONFIG_ADXL362=y

# ADXL362 accelerometer sensor configuration used by motion detection module
# Range set to +/-2g (sensitivity is 1mg/LSB)
CONFIG_ADXL362_ACCEL_RANGE_2G=y
CONFIG_ADXL362_ACCEL_ODR_25=y
CONFIG_ADXL362_TRIGGER_OWN_THREAD=y
# Use default mode for independent activity and inactivity detection.
CONFIG_ADXL362_INTERRUPT_MODE=0
# Use referenced mode for motion detection
CONFIG_ADXL362_ABS_REF_MODE=1
# Activity threshold set to above 250mg (250 mg / 1mg/LSB = 250 LSB)
# for at least 200ms (200ms * 25Hz = 5 samples)
CONFIG_ADXL362_ACTIVITY_THRESHOLD=250
CONFIG_ADXL362_ACTIVITY_TIME=5
# Inactivity threshold set to below 100mg (100 mg / 1mg/LSB = 100 LSB)
# for 5 seconds (5s * 25Hz = 125 samples)
CONFIG_ADXL362_INACTIVITY_THRESHOLD=100
CONFIG_ADXL362_INACTIVITY_TIME=125

# Enable accelerometer to angle conversion for the motion detection module.
CONFIG_ACCEL_TO_ANGLE=y

# Adjust the FMDN ringing configuration to align it with the platform`s capabilities.
CONFIG_BT_FAST_PAIR_FMDN_RING_COMP_ONE=y
CONFIG_BT_FAST_PAIR_FMDN_RING_VOLUME=n

# Adjust the DULT configuration to align it with the platform`s capabilities.
CONFIG_DULT_BATTERY_TYPE_RECHARGEABLE=y

# Align the TX power encoded in the Fast Pair advertising set and
# the Read Beacon Parameters response with Fast Pair expectations.
# The value has been tailored for the following targets:
#   * thingy53/nrf5340/cpuapp(/ns)
CONFIG_BT_ADV_PROV_TX_POWER_CORRECTION_VAL=-12
CONFIG_BT_FAST_PAIR_FMDN_TX_POWER_CORRECTION_VAL=-12
