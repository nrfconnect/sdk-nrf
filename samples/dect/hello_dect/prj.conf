CONFIG_TFM_PROFILE_TYPE_MINIMAL=y

CONFIG_DECT=y

# Modem library
CONFIG_NRF_MODEM_LIB=y
CONFIG_NRF_MODEM_LINK_BINARY_DECT=y
CONFIG_NRF_MODEM_LIB_ON_FAULT_APPLICATION_SPECIFIC=y

# DECT NR+ driver configuration
CONFIG_DECT=y
CONFIG_DECT_MDM=y
CONFIG_DECT_MDM_DRIVER_NRF=y

# DECT NR+ network ID for both devices
CONFIG_DECT_DEFAULT_NW_ID=0x12345678

# Networking
CONFIG_NETWORKING=y
CONFIG_NET_NATIVE=y
CONFIG_NET_IPV4=n
CONFIG_NET_IPV6=y

# Network management
CONFIG_NET_MGMT=y
CONFIG_NET_MGMT_EVENT=y
CONFIG_NET_MGMT_EVENT_INFO=y
CONFIG_NET_MGMT_EVENT_INFO_DEFAULT_DATA_SIZE=208

# DECT NR+ L2 and connection manager
CONFIG_NET_L2_DECT_MGMT=y
CONFIG_NET_CONNECTION_MANAGER=y
CONFIG_NET_CONNECTION_MANAGER_MONITOR_STACK_SIZE=2048
CONFIG_NET_L2_DECT_CONN_MGR_AUTO_CONNECT=y
CONFIG_NET_L2_DECT_CONN_MGR_CONNECTION_PERSISTENCE=y

# Basic networking components
CONFIG_NET_SOCKETS=y
CONFIG_NET_SOCKETS_PACKET=y
CONFIG_NET_SOCKETS_OFFLOAD=n
CONFIG_POSIX_API=y
CONFIG_NET_IF_MAX_IPV6_COUNT=2
CONFIG_NET_INTERFACE_NAME=y

# Network buffers
CONFIG_NET_BUF=y
CONFIG_NET_BUF_DATA_SIZE=128
CONFIG_NET_PKT_RX_COUNT=15
CONFIG_NET_BUF_RX_COUNT=30
CONFIG_NET_PKT_TX_COUNT=15
CONFIG_NET_BUF_TX_COUNT=30

# IPv6 neighbor tables, ND itself disabled in net iface
CONFIG_NET_IPV6_NBR_CACHE=y
CONFIG_NET_IPV6_ND=y

# Disable antenna config (not supported by DECT modem)
CONFIG_MODEM_ANTENNA=n
CONFIG_MODEM_ANTENNA_AT_COEX0=""

# Basic kernel and system settings
CONFIG_MAIN_STACK_SIZE=4096
CONFIG_SYSTEM_WORKQUEUE_STACK_SIZE=3072

# DECT NR+ specific settings
CONFIG_NET_MGMT_EVENT_STACK_SIZE=2048
CONFIG_NET_MGMT_EVENT_QUEUE_SIZE=10
CONFIG_NET_MGMT_EVENT_QUEUE_TIMEOUT=5000

# Enable DK library for LED/button support
CONFIG_DK_LIBRARY=y

# Settings storage
CONFIG_FLASH=y
CONFIG_FLASH_MAP=y
CONFIG_MPU_ALLOW_FLASH_WRITE=y
CONFIG_NVS=y
CONFIG_SETTINGS=y
CONFIG_SETTINGS_NVS=y

# Additional network socket configurations
CONFIG_NET_CONTEXT_SNDTIMEO=y
CONFIG_NET_CONTEXT_RCVTIMEO=y

# DNS and mDNS support
CONFIG_DNS_RESOLVER=y
CONFIG_DNS_RESOLVER_AUTO_INIT=y
CONFIG_MDNS_RESOLVER=y
CONFIG_NET_SOCKETS_POLL_MAX=10
CONFIG_MDNS_RESPONDER=y
CONFIG_DNS_SD=y
CONFIG_MDNS_RESPONDER_DNS_SD=y
CONFIG_NET_SOCKETS_DNS_TIMEOUT=8000

# Even though this sample primarily uses mDNS locally (which operates via link-local
# multicast and does not rely on any unicast DNS server), you must still define at least
# one DNS server entry so that dns_resolve_init() can complete successfully and activate
# the DNS resolver context. The server configured below is therefore not used for mDNS
# traffic itself; it only satisfies this initialization requirement.
# NOTE: The address below (2001:4860:4860::8888) is Google Public DNS and is used here
# only as a sample value. When using this sample beyond local testing, replace it with
# a DNS server that is appropriate for your own network/environment.
CONFIG_DNS_SERVER_IP_ADDRESSES=y
CONFIG_DNS_RESOLVER_MAX_SERVERS=1
CONFIG_DNS_SERVER1="2001:4860:4860::8888"

# Hostname configuration
CONFIG_NET_HOSTNAME_ENABLE=y
CONFIG_NET_HOSTNAME="dect-nr+-device"
CONFIG_NET_HOSTNAME_DYNAMIC=y
CONFIG_NET_HOSTNAME_UNIQUE=n

# Need bigger stack for mDNS
CONFIG_NET_SOCKETS_SERVICE_STACK_SIZE=4096

# Enable logging
CONFIG_LOG=y
CONFIG_NET_LOG=y
CONFIG_PRINTK=y

# Debugging options
CONFIG_ASSERT=y
CONFIG_ASSERT_VERBOSE=y

# Halt application, e.g. on assertion failure
CONFIG_RESET_ON_FATAL_ERROR=n
