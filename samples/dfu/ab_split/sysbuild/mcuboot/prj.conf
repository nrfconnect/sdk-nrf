# Enable boot requests.
CONFIG_CRC=y
CONFIG_NRF_MCUBOOT_BOOT_REQUEST=y

CONFIG_NRF_SECURITY=y
CONFIG_MULTITHREADING=y

# Configuration below is copied from mcuboot/boot/zephyr/prj.conf, as creating
# the sysbuild/mcuboot directory inside a sample removes the default configuration.

CONFIG_PM=n

CONFIG_MAIN_STACK_SIZE=10240

CONFIG_BOOT_SWAP_SAVE_ENCTLV=n
CONFIG_BOOT_ENCRYPT_IMAGE=n

CONFIG_BOOT_UPGRADE_ONLY=n
CONFIG_BOOT_BOOTSTRAP=n

CONFIG_FLASH=y

CONFIG_LOG=y
CONFIG_LOG_MODE_MINIMAL=y
CONFIG_LOG_DEFAULT_LEVEL=0
CONFIG_MCUBOOT_LOG_LEVEL_INF=y
CONFIG_CBPRINTF_NANO=y
CONFIG_PICOLIBC=y
CONFIG_COMMON_LIBC_MALLOC_ARENA_SIZE=0

CONFIG_NCS_APPLICATION_BOOT_BANNER_STRING="MCUboot"

# Expose bootloader version and security counter through retention
CONFIG_RETAINED_MEM=y
CONFIG_RETENTION=y
CONFIG_BOOT_SHARE_DATA=y
CONFIG_BOOT_SHARE_DATA_BOOTINFO=y
CONFIG_BOOT_SHARE_BACKEND_RETENTION=y

# Enable IronSide service
CONFIG_NRF_IRONSIDE_COUNTER_SERVICE=y
# Enable MCUboot counter implementation that uses IronSide counters
CONFIG_NRF_MCUBOOT_IRONSIDE_COUNTERS=y
