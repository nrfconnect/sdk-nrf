#
# Copyright (c) 2023 Nordic Semiconductor
#
# SPDX-License-Identifier: LicenseRef-Nordic-5-Clause
#

CONFIG_NRF_MODEM_LIB_TRACE=y
CONFIG_NRF_MODEM_LIB_TRACE_LEVEL_OFF=y

# Modem trace flash backend
CONFIG_NRF_MODEM_LIB_TRACE_BACKEND_FLASH=y
CONFIG_NRF_MODEM_TRACE_FLASH_NOSPACE_SIGNAL=y
CONFIG_NRF_MODEM_LIB_TRACE_BACKEND_FLASH_BUF_SIZE=2048

# External flash for storing modem traces
CONFIG_FCB=y
CONFIG_FLASH_MAP=y
CONFIG_SPI=y
CONFIG_SPI_NOR=y
CONFIG_SPI_NOR_SFDP_DEVICETREE=y
CONFIG_PM_OVERRIDE_EXTERNAL_DRIVER_CHECK=y
# The default partition size is set to 1 MB to reduce the first boot erase time
# increase if you need to modem trace for a longer duration
CONFIG_NRF_MODEM_LIB_TRACE_BACKEND_FLASH_PARTITION_SIZE=0x100000

CONFIG_MEMFAULT_CDR_ENABLE=y
