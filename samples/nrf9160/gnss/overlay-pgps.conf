#
# Copyright (c) 2021 Nordic Semiconductor ASA
#
# SPDX-License-Identifier: LicenseRef-Nordic-5-Clause
#

# P-GPS overlay configuration

# Enable nRF Cloud assistance for GNSS sample
CONFIG_GNSS_SAMPLE_ASSISTANCE_NRF_CLOUD=y

# P-GPS
CONFIG_NRF_CLOUD_PGPS=y
CONFIG_NRF_CLOUD_PGPS_NUM_PREDICTIONS=42
CONFIG_NRF_CLOUD_PGPS_REPLACEMENT_THRESHOLD=4
CONFIG_NRF_CLOUD_PGPS_REQUEST_ALL_UPON_INIT=y

# Disable A-GPS, comment this if you want to use both A-GPS and P-GPS at the same time
CONFIG_NRF_CLOUD_AGPS=n

# Storage for P-GPS
CONFIG_STREAM_FLASH=y
CONFIG_FLASH=y
CONFIG_FLASH_PAGE_LAYOUT=y
CONFIG_FLASH_MAP=y
CONFIG_FCB=y
CONFIG_SETTINGS=y
CONFIG_SETTINGS_FCB=y
CONFIG_MPU_ALLOW_FLASH_WRITE=y

# P-GPS needs more heap
CONFIG_HEAP_MEM_POOL_SIZE=8192

# MCUBOOT - for partition containing PM_MCUBOOT_SECONDARY_ADDRESS
CONFIG_BOOTLOADER_MCUBOOT=y
CONFIG_IMG_MANAGER=y
CONFIG_MCUBOOT_IMG_MANAGER=y

# Download client library stack size needs to be increased with P-GPS
CONFIG_DOWNLOAD_CLIENT_STACK_SIZE=1280
