#
# Copyright (c) 2022 Nordic Semiconductor ASA
#
# SPDX-License-Identifier: LicenseRef-Nordic-5-Clause
#

# Overlay to use nRF7002 EK on top of nrf9160 DK for Wi-Fi scanning

# Disable modem traces as UART1 is disabled
CONFIG_NRF_MODEM_LIB_TRACE=n

# System settings
CONFIG_PICOLIBC_IO_FLOAT=y

# LwM2M Client utility library options
CONFIG_LWM2M_CLIENT_UTILS_GROUND_FIX_OBJ_SUPPORT=y
CONFIG_LWM2M_CLIENT_UTILS_VISIBLE_WIFI_AP_OBJ_SUPPORT=y
CONFIG_LWM2M_CLIENT_UTILS_WIFI_AP_SCANNER=y

# Enable LwM2M 1.1
CONFIG_LWM2M_VERSION_1_1=y
CONFIG_LWM2M_COMPOSITE_PATH_LIST_SIZE=10

# Enable SenML-CBOR content format
CONFIG_LWM2M_RW_SENML_CBOR_SUPPORT=y
CONFIG_ZCBOR=y
CONFIG_ZCBOR_CANONICAL=y
CONFIG_LWM2M_RW_SENML_CBOR_RECORDS=40

# Needed to handle more scan results
CONFIG_HEAP_MEM_POOL_SIZE=15000
CONFIG_NRF_WIFI_CTRL_HEAP_SIZE=45000
CONFIG_HEAP_MEM_POOL_IGNORE_MIN=y

# Does not work with buttons&LEDs
CONFIG_APP_PUSH_BUTTON=n
CONFIG_APP_ONOFF_SWITCH=n
CONFIG_DK_LIBRARY=n

# Actual configs for the Wi-Fi
CONFIG_WIFI=y
CONFIG_WIFI_NRF70=y
CONFIG_NET_L2_WIFI_MGMT=y

# Scan only using offload API
CONFIG_WIFI_NM_WPA_SUPPLICANT=n

# For nRF9160 the default is socket interface
CONFIG_NET_DEFAULT_IF_ETHERNET=y
#CONFIG_MBEDTLS=n
CONFIG_NORDIC_SECURITY_BACKEND=n

# Networking
CONFIG_NET_L2_ETHERNET=y
CONFIG_NET_NATIVE=y

CONFIG_LWM2M_CONNMON_OBJECT_VERSION_1_3=y
