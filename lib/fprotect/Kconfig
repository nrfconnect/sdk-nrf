#
# Copyright (c) 2019 Nordic Semiconductor ASA
#
# SPDX-License-Identifier: LicenseRef-BSD-5-Clause-Nordic
#

config FPROTECT
	bool "Write-protect flash regions"
	depends on SOC_FAMILY_NRF
	help
	  Use hardware peripherals (BPROT, ACL, or SPU) to write-protect
	  regions of flash until next reset.


if !ARM
config NRF_SPU_FLASH_REGION_SIZE
	hex
	default 0x1000
	help
	  Redefinition for the benefit of qemu_x86
endif

config FPROTECT_BLOCK_SIZE
	hex
	default NRF_SPU_FLASH_REGION_SIZE if SOC_NRF9160 || SOC_NRF5340_CPUAPP
	default $(dt_node_int_prop_hex,/flash-controller@41080000/flash@1000000,erase-block-size) if SOC_NRF5340_CPUNET
	default $(dt_node_int_prop_hex,/soc/flash-controller@4001e000/flash@0,erase-block-size) if SOC_SERIES_NRF52X || SOC_SERIES_NRF51X
	help
	  Block size of fprotect
