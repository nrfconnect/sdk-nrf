#
# Copyright (c) 2023 Nordic Semiconductor
#
# SPDX-License-Identifier: LicenseRef-Nordic-5-Clause
#

# MBed TLS
CONFIG_MBEDTLS_HEAP_SIZE=98304
CONFIG_MBEDTLS_RSA_C=y

# Zephyr Networking
CONFIG_NET_DHCPV4=y
CONFIG_NET_IPV4=y
CONFIG_NET_TCP=y
CONFIG_NET_SOCKETS_SOCKOPT_TLS=y

# Adjust NET configurations to reduce the likelyhood of congestion in the TCP stack when there are
# multiple NET users in the system.
CONFIG_NET_MAX_CONN=8
CONFIG_NET_PKT_RX_COUNT=14
CONFIG_NET_PKT_TX_COUNT=14
CONFIG_NET_BUF_RX_COUNT=54
CONFIG_NET_BUF_TX_COUNT=54
CONFIG_NET_TCP_MAX_SEND_WINDOW_SIZE=1024

# MQTT shell backend
CONFIG_SHELL_BACKEND_MQTT=y
CONFIG_SHELL_BACKEND_MQTT_TLS=y
CONFIG_SHELL_BACKEND_MQTT_PROVISION_CERTIFICATES=y
CONFIG_SHELL_MQTT_SERVER_ADDR="test.mosquitto.org"
CONFIG_SHELL_BACKEND_MQTT_TLS_SEC_TAG=25

# MQTT
CONFIG_MQTT_KEEPALIVE=120
CONFIG_MQTT_CLEAN_SESSION=y

# Other - testing purposes
CONFIG_ASSERT=n
CONFIG_SHELL_MQTT_LOG_LEVEL_DBG=y
