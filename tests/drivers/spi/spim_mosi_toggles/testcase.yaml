common:
  sysbuild: true
  tags:
    - ci_build
    - ci_tests_drivers_spi

tests:

  drivers.spi.spim_mosi_toggles:
    harness: console
    harness_config:
      fixture: hpf_mspi_spi_loopback
      type: multi_line
      ordered: true
      regex:
        - "SPIM MOSI toggling test on"
        - "Test passed"
    platform_allow:
      - nrf54l15dk/nrf54l15/cpuapp
      - nrf54lm20dk/nrf54lm20a/cpuapp
    integration_platforms:
      - nrf54l15dk/nrf54l15/cpuapp
      - nrf54lm20dk/nrf54lm20a/cpuapp

  drivers.spi.spim_mosi_toggles.slow:
    harness: console
    harness_config:
      fixture: gpio_loopback
      type: multi_line
      ordered: true
      regex:
        - "SPIM MOSI toggling test on"
        - "Test passed"
    platform_allow:
      - nrf54ls05dk/nrf54ls05b/cpuapp
      - nrf54lv10dk/nrf54lv10a/cpuapp
    integration_platforms:
      - nrf54lv10dk/nrf54lv10a/cpuapp
