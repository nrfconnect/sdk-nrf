#
# Copyright (c) 2021 Nordic Semiconductor ASA
#
# SPDX-License-Identifier: LicenseRef-Nordic-5-Clause
#

# Configuration file for Thingy:91.
# This file is merged with prj.conf in the application folder, and options
# set here will take precedence if they are present in both files.

# Configuration related to external sensors.
CONFIG_SENSOR=y
CONFIG_SPI=y

# ADXL362 - Low-Power accelerometer used for activity and inactivity detection.
CONFIG_ADXL362=y
CONFIG_ADXL362_TRIGGER_GLOBAL_THREAD=y
CONFIG_ADXL362_INTERRUPT_MODE=1
CONFIG_ADXL362_ABS_REF_MODE=1
CONFIG_ADXL362_ACCEL_RANGE_2G=y
CONFIG_ADXL362_ACCEL_ODR_400=y

# BME680 - Temperature and humidity sensor.
CONFIG_BME680=y

# CAF - Common Application Framework
CONFIG_PWM=y
CONFIG_LED_PWM=y

# Disable MCUboot DFU -- incompatible with static partitions
CONFIG_SECURE_BOOT=n
CONFIG_BUILD_S1_VARIANT=n

# Light Sensor - BH1749
CONFIG_BH1749=y
CONFIG_BH1749_TRIGGER=y
CONFIG_EXTERNAL_SENSORS_LIGHT_THRESHOLD_TRIGGER_LUX=50
CONFIG_EXTERNAL_SENSORS_LIGHT_HYSTERESIS_TIMEOUT_SECONDS=30

## Disable LEDs to not interfere with the light sensor
CONFIG_LED_CONTROL=n

## Device power management support to be able to suspend the sensor in between triggers to save power
CONFIG_PM_DEVICE=y
CONFIG_PM_DEVICE_RUNTIME=y
