#
# Copyright (c) 2021 Nordic Semiconductor ASA
#
# SPDX-License-Identifier: LicenseRef-Nordic-5-Clause
#
CONFIG_IS_SECURE_BOOTLOADER=y
CONFIG_MULTITHREADING=n
CONFIG_GPIO=n
CONFIG_GEN_IRQ_VECTOR_TABLE=n
CONFIG_ARM_MPU=n
CONFIG_TICKLESS_KERNEL=n
CONFIG_ERRNO=n
CONFIG_SYS_CLOCK_EXISTS=n
CONFIG_NRF_RTC_TIMER=n
CONFIG_CLOCK_CONTROL=n
CONFIG_FPROTECT=y
CONFIG_FW_INFO=y
CONFIG_SECURE_BOOT_CRYPTO=y
CONFIG_SECURE_BOOT_DEBUG=n
CONFIG_SECURE_BOOT_VALIDATION=y
CONFIG_SECURE_BOOT_STORAGE=y
CONFIG_BL_ROT_VERIFY_EXT_API_ENABLED=n
CONFIG_BL_SHA256_EXT_API_ENABLED=n
CONFIG_BL_SECP256R1_EXT_API_ENABLED=n
CONFIG_BL_VALIDATE_FW_EXT_API_ENABLED=n
CONFIG_EXT_API_PROVIDE_EXT_API_ENABLED=n

CONFIG_MAIN_STACK_SIZE=2048

CONFIG_BOOT_BANNER=n
CONFIG_PRINTK=n
CONFIG_CONSOLE=n
CONFIG_UART_CONSOLE=n
CONFIG_SERIAL=n
CONFIG_UART_INTERRUPT_DRIVEN=n
CONFIG_ASSERT=n

# Use minimal C library instead of the Picolib
CONFIG_MINIMAL_LIBC=y

# The anomaly 160 workaround is not needed for the bootloader.
CONFIG_SOC_NRF53_ANOMALY_160_WORKAROUND_NEEDED=n

# Improve firmware reliability
CONFIG_RESET_ON_FATAL_ERROR=y
